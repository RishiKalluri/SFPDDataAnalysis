<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SFPD Data Analysis</title>
    <link rel = "icon" type = "image/png" href = "/static/img/SFPD.png">
    <!-- Bootstrap core CSS -->
    <link href="/static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="/static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Plugin CSS -->
    <link href="/static/vendor/magnific-popup/magnific-popup.css" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="/static/css/freelancer.min.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg bg-secondary fixed-top text-uppercase" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">SFPD Dispatch Analysis</a>
        <button class="navbar-toggler navbar-toggler-right text-uppercase bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#portfolio">Data Analysis</a>
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#about">About</a>
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#contact">Most Likely Dispatch</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead bg-primary text-white text-center">
      <div class="container">
        <img class="img-fluid mb-5 d-block mx-auto" src="/static/img/golden-gate-SF.png" alt="">
        <h1 class="text-uppercase mb-0">SFPD Dispatch Analysis</h1>
        <hr class="star-light">
        <h2 class="font-weight-light mb-0">Data Analysis - About - Most Likely Dispatch</h2>
        <h2 class="font-weight-light mb-0">Created By Rishi Kalluri</h2>
      </div>
    </header>

    <!-- Portfolio Grid Section -->
    <section class="portfolio" id="portfolio">
      <div class="container">
        <h2 class="text-center text-uppercase text-secondary mb-0">Data Analysis</h2>
        <hr class="star-dark mb-5">
        <div class="row">
          <div class="col-md-6 col-lg-4">
            <a class="portfolio-item d-block mx-auto" href="#portfolio-modal-1">
              <div class="portfolio-item-caption d-flex position-absolute h-100 w-100">
                <div class="portfolio-item-caption-content my-auto w-100 text-center text-white">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="/static/img/barGraph1.png" alt="">
            </a>
          </div>
          <div class="col-md-6 col-lg-4">
            <a class="portfolio-item d-block mx-auto" href="#portfolio-modal-2">
              <div class="portfolio-item-caption d-flex position-absolute h-100 w-100">
                <div class="portfolio-item-caption-content my-auto w-100 text-center text-white">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="static/img/totalCalls1.png" alt="">
            </a>
          </div>
          <div class="col-md-6 col-lg-4">
            <a class="portfolio-item d-block mx-auto" href="#portfolio-modal-3">
              <div class="portfolio-item-caption d-flex position-absolute h-100 w-100">
                <div class="portfolio-item-caption-content my-auto w-100 text-center text-white">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="/static/img/dayTrend3.png" alt="">
            </a>
          </div>
          <div class="col-md-6 col-lg-4">
            <a class="portfolio-item d-block mx-auto" href="#portfolio-modal-4">
              <div class="portfolio-item-caption d-flex position-absolute h-100 w-100">
                <div class="portfolio-item-caption-content my-auto w-100 text-center text-white">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="/static/img/heatplotCalls2.png" alt="">
            </a>
          </div>
          <div class="col-md-6 col-lg-4">
            <a class="portfolio-item d-block mx-auto" href="#portfolio-modal-5">
              <div class="portfolio-item-caption d-flex position-absolute h-100 w-100">
                <div class="portfolio-item-caption-content my-auto w-100 text-center text-white">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="/static/img/fourTypes3.png" alt="">
            </a>
          </div>
          <div class="col-md-6 col-lg-4">
            <a class="portfolio-item d-block mx-auto" href="#portfolio-modal-6">
              <div class="portfolio-item-caption d-flex position-absolute h-100 w-100">
                <div class="portfolio-item-caption-content my-auto w-100 text-center text-white">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="/static/img/safestAreas1.png" alt="">
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section class="bg-primary text-white mb-0" id="about">
      <div class="container">
        <h2 class="text-center text-uppercase text-white">About</h2>
        <hr class="star-light mb-5">
        <div class="text-center mt-4">
          <p class="lead">In this web application, the Flask framework and Bootstrap was used to design the front-end of the web application.
            To perform data analysis and visualize the data, the following python libraries were used: matplotlib, pandas, seaborn, and numpy. These were used to
             manipulate and analyze the data presented in the sfpd_dispatch_data_subset.csv. To calculate the most likely dispatch based on location and time of day,
             a k nearest neighbors algorithim was used. This was done using the sklearn python library and the KNeighborsClassifier in the library. The model is trained
             based on the latitude, longitude, and received timestamp from the sfpd_dispatch_data_subset.
          </p>
        </div>
        <div class="text-center mt-4">
          <p class="lead">Through the analysis performed on the provided dataset, there are a few conclusions that can be drawn. Primarily, the data shows that the
            most dangerous zip codes in the San Francisco area are 94102 and 94103. These zip codes have the greatest number of calls, as well as the greatest daily and
            hourly calls. According to the number of calls and associated danger levels, 94102 and 94103 are the most dangerous zip codes. With this data, it is clear that
            the safest zip codes are 94129 and 94130. Interestingly, 94127 is the zip code with the highest average dispatch time. This contrasts expectation because it is
            considered a safer zip code, due to its lower danger levels and lower number of calls received. Based on data provided by unitedstateszipcodes.org, 94127 is a
            very wealthy area, with the majority of residents having an average household income of above $200,000. This provides an explanation for the higher dispatch time
            because there would be much less police presence overall, resulting in slower response times.
        </div>
      </div>
    </section>

    <!-- Form Section -->
    <section id="contact">
      <div class="container">
        <h2 class="text-center text-uppercase text-secondary mb-0">Most Likely Dispatch</h2>
        <hr class="star-dark mb-5">
        <div class="row">
          <div class="col-lg-8 mx-auto">
              <form action = "{{ url_for('likelyDispatch') }}" method = "POST">
              <div class="input text">
                <div class="form-group floating-label-form-group controls mb-0 pb-2">
                  <label>Latitude (Four Decimal Places)</label>
                  <input name = "latitude" class = "form-control" id = "latitude" type = "text" placeholder = "Latitude (Four Decimal Places)" required = "required" data-validation-required-message="Please enter desired latitude.">
                  <p class="help-block text-danger"></p>
                </div>
              </div>
              <div class="input text">
                <div class="form-group floating-label-form-group controls mb-0 pb-2">
                  <label>Longitude (Four Decimal Places)</label>
                  <input name = "longitude" class = "form-control" id = "Longitude" type = "text" placeholder = "Longitude (Four Decimal Places)" required = "required" data-validation-required-message="Please enter desired longitude.">
                  <p class="help-block text-danger"></p>
                </div>
              </div>
              <div class="input text">
                <div class="form-group floating-label-form-group controls mb-0 pb-2">
                  <label>Time</label>
                  <input name = "time" class = "form-control" id = "time" type = "text" placeholder = "Time (hh:mm:ss)" required = "required" data-validation-required-message="Please enter desired time.">
                  <p class="help-block text-danger"></p>
                </div>
              </div>
              <br>
              <div id="success"></div>
              <div class="input submit">
                <input type="submit" class="btn btn-primary btn-xl" id="sendMessageButton" value = "Submit">
              </div>
            </form>
            <h2 class="text-center text-uppercase text-secondary mb-0">{{response}}</h2>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer text-center">
      <div class="container">
        <div class="row">
          <div class="col-md-4 mb-5 mb-lg-0">
            <h4 class="text-uppercase mb-4">Challenge Info</h4>
            <ul class="list-inline mb-0">
              <li class="list-inline-item">
                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://www.mindsumo.com/contests/sfpd-dispatch?add_to_dojo=true&solution%5Bcontest_id%5D=1287">
                  <i class="fa fa-fw fa-mindsumo"></i>
                </a>
              </li>
            </ul>
          </div>
          <div class="col-md-4">
            <h4 class="text-uppercase mb-4">About Rishi</h4>
            <p class="lead mb-0">Rishi Kalluri is an undergraduate student at the University of Illinois, Urbana-Champaign, majoring in Computer Engineering</p>
          </div>
          <div class="col-md-4 mb-5 mb-lg-0">
            <h4 class="text-uppercase mb-4">Source Code</h4>
            <ul class="list-inline mb-0">
              <li class="list-inline-item">
                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://github.com/rishidk22/SFPDDataAnalysis">
                  <i class="fa fa-fw fa-github"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <div class="copyright py-4 text-center text-white">
      <div class="container">
        <small>FakeCopyright &copy; Capital One MindSumo 2018</small>
      </div>
    </div>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-to-top d-lg-none position-fixed ">
      <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top">
        <i class="fa fa-chevron-up"></i>
      </a>
    </div>

    <!-- Portfolio Modals -->

    <!-- Portfolio Modal 1 -->
    <div class="portfolio-modal mfp-hide" id="portfolio-modal-1">
      <div class="portfolio-modal-dialog bg-white">
        <a class="close-button d-none d-md-block portfolio-modal-dismiss" href="#">
          <i class="fa fa-3x fa-times"></i>
        </a>
        <div class="container text-center">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2 class="text-secondary text-uppercase mb-0">Average Time to Dispatch per Zip Code</h2>
              <hr class="star-dark mb-5">
              <img class="img-fluid mb-5" src="/static/img/barGraph1.png" alt="">
              <p class="mb-5">This graph depicts the average time to dispatch per zip code. As shown, the zip code of 94127 has the greatest average dipatch time. The second highest average dispatch time belongs to 94105. There are no other outstanding times in the data. The two outstanding times can be reduced by introducing a new station in both zip codes. This would increase bandwith to handle incoming calls as well as offer more units to dispatch. Having more access to these resources will reduce the time between the received call and the dispatch, and increase overall safety in these areas.</p>
              <a class="btn btn-primary btn-lg rounded-pill portfolio-modal-dismiss" href="#">
                <i class="fa fa-close"></i>
                Close Project</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Portfolio Modal 2 -->
    <div class="portfolio-modal mfp-hide" id="portfolio-modal-2">
      <div class="portfolio-modal-dialog bg-white">
        <a class="close-button d-none d-md-block portfolio-modal-dismiss" href="#">
          <i class="fa fa-3x fa-times"></i>
        </a>
        <div class="container text-center">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2 class="text-secondary text-uppercase mb-0">Total Number of Calls per Hour Over 12 Days</h2>
              <hr class="star-dark mb-5">
              <img class="img-fluid mb-5" src="/static/img/totalCalls1.png" alt="">
              <p class="mb-5">This graph depicts the total number of calls per hour per zip code. According to the graph, the greatest number of calls at each hour belongs to either 94102 or 94103, with the exception of the hour 16. This implies that 94102 and 94103 are the most dangerous zip codes, since the necessity for emergency services in an area has an inverse relationship with that area's safety. Additionally, the graph shows that calls typically spike between hours 10 and 18. This is consistent with expectations, because calls should spike during the part of the day when most people are out of their homes.</p>
              <a class="btn btn-primary btn-lg rounded-pill portfolio-modal-dismiss" href="#">
                <i class="fa fa-close"></i>
                Close Project</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Portfolio Modal 3 -->
    <div class="portfolio-modal mfp-hide" id="portfolio-modal-3">
      <div class="portfolio-modal-dialog bg-white">
        <a class="close-button d-none d-md-block portfolio-modal-dismiss" href="#">
          <i class="fa fa-3x fa-times"></i>
        </a>
        <div class="container text-center">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2 class="text-secondary text-uppercase mb-0">Total Number of Calls per Day over 12 Days</h2>
              <hr class="star-dark mb-5">
              <img class="img-fluid mb-5" src="/static/img/dayTrend3.png" alt="">
              <p class="mb-5">This graph depicts the total number of calls per day per zip code. Shown by the graph, the greatest number of calls at each day belongs to either 94102 or 94103, with the exception of day 18. This implies that 94102 and 94103 are the most dangerous zip codes. This parallels the conclusion drawn from line graph of the average calls per hour: 94102 and 94103 are the most dangerous zip codes in the San Francisco area. Furthermore, the trend for the dataset seems to be increasingly slightly from the beginning. This reflects typical long term trends in dangerous areas, where crime rates typically increase with time.</p>
              <a class="btn btn-primary btn-lg rounded-pill portfolio-modal-dismiss" href="#">
                <i class="fa fa-close"></i>
                Close Project</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Portfolio Modal 4 -->
    <div class="portfolio-modal mfp-hide" id="portfolio-modal-4">
      <div class="portfolio-modal-dialog bg-white">
        <a class="close-button d-none d-md-block portfolio-modal-dismiss" href="#">
          <i class="fa fa-3x fa-times"></i>
        </a>
        <div class="container text-center">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2 class="text-secondary text-uppercase mb-0">Distribution of Received Calls over GPS Location</h2>
              <hr class="star-dark mb-5">
              <img class="img-fluid mb-5" src="/static/img/heatplotCalls2.png" alt="">
              <p class="mb-5">This graph depicts the distribution of received calls over GPS location. It is clear that the location that receives the most number of calls is roughly (37.78, -122.415). The lighter colors indicate a greater number of calls in that area, and because (37.78, -122.415) has the lighest color, it has the greatest number of calls. This indicates that this region is the most dangerous out of the total area shown on the map. This point falls in the zip code 94102, and the surrounding area includes zip code 94103. Because this GPS location received more calls than any other, it further reinforces that 94102 and 94103 are the most dangerous zip codes in the San Francisco area. A higher precense of law enforcement could help curb the risks associated with living in such an area, and would eventually lower the number of calls coming from these zip codes.</p>
              <a class="btn btn-primary btn-lg rounded-pill portfolio-modal-dismiss" href="#">
                <i class="fa fa-close"></i>
                Close Project</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Portfolio Modal 5 -->
    <div class="portfolio-modal mfp-hide" id="portfolio-modal-5">
      <div class="portfolio-modal-dialog bg-white">
        <a class="close-button d-none d-md-block portfolio-modal-dismiss" href="#">
          <i class="fa fa-3x fa-times"></i>
        </a>
        <div class="container text-center">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2 class="text-secondary text-uppercase mb-0">Distribution of Call Types over GPS Location</h2>
              <hr class="star-dark mb-5">
              <img class="img-fluid mb-5" src="/static/img/fourTypes3.png" alt="">
              <p class="mb-5">This graph depicts the distribution of the diferent types of calls over GPS location. Just like the overall call distribution, most of the calls are center around (37.78, -122.415), which is zipcodes 94102 and 94103: further demonstrating that this region is the most dangerous area in the dataset. The most prominent type of call when the data is examined is the Potential Life-Threatening call, followed by Fire, Non Life-Threatening, and Alarm. Because potential life-threatening calls are the most occurring type of call, this area could benefit from more emergency medical services. This can curb the loss of life that results from areas with high amounts of life-threatening calls.</p>
              <a class="btn btn-primary btn-lg rounded-pill portfolio-modal-dismiss" href="#">
                <i class="fa fa-close"></i>
                Close Project</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Portfolio Modal 6 -->
    <div class="portfolio-modal mfp-hide" id="portfolio-modal-6">
      <div class="portfolio-modal-dialog bg-white">
        <a class="close-button d-none d-md-block portfolio-modal-dismiss" href="#">
          <i class="fa fa-3x fa-times"></i>
        </a>
        <div class="container text-center">
          <div class="row">
            <div class="col-lg-8 mx-auto">
              <h2 class="text-secondary text-uppercase mb-0">Danger Levels and Number of Calls per Zip Code</h2>
              <hr class="star-dark mb-5">
              <img class="img-fluid mb-5" src="/static/img/safestAreas1.png" alt="">
              <p class="mb-5">This graph depicts the danger levels and number of calls per zip code, showing which areas are the most dangerous and which areas are the safest in the dataset. In the graph, the closer the data point is to the Zip Codes axis, the safer that zip code is. The distance from this axis is based on the number of calls and associated danger level. Associated danger level is based on how many of each call type occurred (potential life-threatening, non life-threatening, fire, and alarm). As shown, zip codes near 94100, such as 94102 and 94103 are much more dangerous than other zip codes, due to the higher number of calls, as well as the higher danger level. To contrast, zip codes around 94130, such as 94129 and 94130 have much fewer calls and lower danger levels. Therefore, 94129 and 94130 are the safest zip codes in the dataset. If zip codes like 94102 and 94103 were modeled after areas like 94129 and 94130, the dangerous areas of the city may be able to curb their crime rates, and lower the need for emergency services.</p>
              <a class="btn btn-primary btn-lg rounded-pill portfolio-modal-dismiss" href="#">
                <i class="fa fa-close"></i>94130
                Close Project</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="/static/vendor/jquery/jquery.min.js"></script>
    <script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="/static/vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="/static/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="/static/js/jqBootstrapValidation.js"></script>
    <script src="/static/js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="/static/js/freelancer.min.js"></script>

  </body>

</html>
